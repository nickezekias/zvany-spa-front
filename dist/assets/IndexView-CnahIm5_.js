import{d as M,u as Z,b as J,a as K,r as q,c as Q,e as W,i as a,w as l,g as i,t as P,h as d,n as X,k as p,s as Y,U as $}from"./index-DRnyeG6s.js";import{N as ee}from"./NikkToast-J5MSWPIm.js";import{z as re,a as s}from"./index-Dw--k9e-.js";import{_ as z}from"./NikkInputPassword.vue_vue_type_script_setup_true_lang-cKBUwViw.js";import{_ as t}from"./NikkInputText.vue_vue_type_script_setup_true_lang-B3mRpk61.js";import{_ as ae}from"./NikkSelect.vue_vue_type_script_setup_true_lang-BMZnBWT7.js";import"./helpers-B5xRNGEM.js";import"./index-U2ik_GpQ.js";import"./index-Bzo-7GMa.js";const se={class:"w-full p-3 overflow-y-auto"},oe={class:"text-center text-3xl md:text-4xl font-light mb-0"},le={class:"flex items-center justify-center"},ie={class:"font-light text-sm me-1"},fe=M({__name:"IndexView",setup(te){const j=Z(),A=X(),O=J(),{t:R}=K(),u=new ee(O,R),n=q(!1),T=re(s.object({email:s.string().email({message:"errors.validation.email"}),firstName:s.string().min(1,{message:"errors.validation.requiredField"}),gender:s.string().min(1,{message:"errors.validation.requiredField"}),lastName:s.string().min(1,{message:"errors.validation.requiredField"}),password:s.string().min(8,{message:"errors.validation.passwords.minCount"}).refine(e=>/[a-z]/.test(e),{message:"errors.validation.mustContain.lowercase"}).refine(e=>/[A-Z]/.test(e),{message:"errors.validation.mustContain.uppercase"}).refine(e=>/[0-9]/.test(e),{message:"errors.validation.mustContain.number"}).refine(e=>/[!@#$%^&*()_+{}\[\]:;"'<>,.?/\\|`~-]/.test(e),{message:"errors.validation.mustContain.validSymbol"}),password_confirmation:s.string().min(8,{message:"errors.validation.passwords.minCount"}),phone:s.string().min(1,{message:"errors.validation.requiredField"})}).refine(e=>e.password===e.password_confirmation,{message:"errors.validation.passwords.notSame",path:["password_confirmation"]})),m=q({email:"",firstName:"",gender:"",lastName:"",phone:"",password:"",password_confirmation:""});async function U(e){n.value=!0;try{e.valid?(await j.register(e.values),A.push({name:"onboarding.index"})):u.error("errors.validation.form","labels.invalidForm")}catch(o){u.httpError(o)}finally{n.value=!1}}return(e,o)=>{const c=p("PrimeButton"),D=p("router-link"),G=p("PrimeCard");return Q(),W("div",se,[a(G,{class:"w-full md:w-4/12 2xl:w-3/12 mx-auto mt-10 nikk-card"},{title:l(()=>[i("div",null,[i("h1",oe,P(e.$t("labels.register")),1),i("div",le,[i("span",ie,P(e.$t("hints.alreadyHaveAccount")),1),a(D,{to:"/login",activeClass:"border-b border-primary"},{default:l(()=>[a(c,{text:"",label:e.$t("labels.login")},null,8,["label"])]),_:1})])])]),content:l(()=>[a(d(Y),{class:"py-3 flex flex-col gap-5",initialValues:m.value,onSubmit:U,resolver:d(T),validateOnBlur:!0,validateOnSubmit:!0},{default:l(r=>{var b,g,v,f,_,w,h,N,x,y,E,k,C,H,L,F,S,V,B;return[a(t,{errorHelpLabel:(g=(b=r.firstName)==null?void 0:b.error)==null?void 0:g.message,id:"first-name",isError:(v=r.firstName)==null?void 0:v.invalid,label:"labels.firstName",name:"firstName",type:"text"},null,8,["errorHelpLabel","isError"]),a(t,{errorHelpLabel:(_=(f=r.lastName)==null?void 0:f.error)==null?void 0:_.message,id:"last-name",isError:(w=r.lastName)==null?void 0:w.invalid,label:"labels.lastName",name:"lastName",type:"text"},null,8,["errorHelpLabel","isError"]),a(ae,{id:"type",modelValue:m.value.gender,"onUpdate:modelValue":o[0]||(o[0]=I=>m.value.gender=I),"error-help-label":"errors.validation.requiredField","is-error":(h=r.gender)==null?void 0:h.invalid,name:"gender",options:Object.values(d($).GENDERS),placeholder:"labels.selectGender"},null,8,["modelValue","is-error","options"]),a(t,{errorHelpLabel:(x=(N=r.email)==null?void 0:N.error)==null?void 0:x.message,id:"email",isError:(y=r.email)==null?void 0:y.invalid,label:"labels.email",name:"email",type:"email"},null,8,["errorHelpLabel","isError"]),a(t,{errorHelpLabel:(k=(E=r.phone)==null?void 0:E.error)==null?void 0:k.message,id:"phone",isError:(C=r.phone)==null?void 0:C.invalid,label:"labels.phone",name:"phone",type:"text"},null,8,["errorHelpLabel","isError"]),a(z,{errorHelpLabel:(L=(H=r.password)==null?void 0:H.error)==null?void 0:L.message,id:"password",feedback:!1,isError:(F=r.password)==null?void 0:F.invalid,label:"labels.password",name:"password",toggleMask:!0},null,8,["errorHelpLabel","isError"]),a(z,{errorHelpLabel:(V=(S=r.password_confirmation)==null?void 0:S.error)==null?void 0:V.message,id:"password_confirmation",isError:(B=r.password_confirmation)==null?void 0:B.invalid,label:"labels.confirmPassword",name:"password_confirmation",toggleMask:!0,feedback:!1},null,8,["errorHelpLabel","isError"]),a(c,{type:"submit",loading:n.value,label:e.$t("labels.register")},null,8,["loading","label"])]}),_:1},8,["initialValues","resolver"])]),_:1})])}}});export{fe as default};
