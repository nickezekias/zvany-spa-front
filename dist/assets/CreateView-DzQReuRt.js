import{d as ae,u as se,e as oe,b as ie,r as W,c as te,j as s,w as b,m as ne,g as v,o as de,i as g,s as ue,a as t}from"./index-Dw176u7V.js";import{u as me,P as pe}from"./product.store-DwabFtRv.js";import{z as ce,a as o}from"./index-DardKiCC.js";import{N as be}from"./NikkToast-DqqY_v2-.js";import{N as ve,p as ge,_ as Ve}from"./NikkTextArea.vue_vue_type_script_setup_true_lang-CdFseYXo.js";import{_ as ye}from"./AppPageTitle.vue_vue_type_script_setup_true_lang-Bkn4WLxp.js";import{_ as V}from"./NikkInputNumber.vue_vue_type_script_setup_true_lang-C1PKwBEm.js";import{_ as n}from"./NikkInputText.vue_vue_type_script_setup_true_lang-CkWhA9u9.js";import{_ as fe}from"./NikkSelect.vue_vue_type_script_setup_true_lang-D6j18Muw.js";import"./index-sr3rZ5Fz.js";import"./index-Cub5xAkd.js";import"./index-Bj5FmtSV.js";const qe={class:"nikk-container"},_e={class:"flex flex-col md:flex-row gap-4"},ke={class:"w-full lg:w-4/12"},Fe={class:"w-full flex flex-col lg:w-8/12 gap-4"},xe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},we={class:"flex justify-end pt-6 gap-4"},Ae=ae({__name:"CreateView",setup(he){const X=se(),Y=me(),Z=ne(),$=oe(),{t:ee}=ie(),m=new be($,ee),p=W(!1),e=W(pe.initEmpty()),re=ce(o.object({barcode:o.string().min(1,{message:"errors.validation.requiredField"}),brand:o.string().min(1,{message:"errors.validation.requiredField"}),categories:o.string().min(1,{message:"errors.validation.requiredField"}),cost:o.union([o.number().min(0,{message:"errors.validation.requiredField"}),o.string().min(0,{message:"errors.validation.requiredField"})]),description:o.string().min(1,{message:"errors.validation.requiredField"}),name:o.string().min(1,{message:"errors.validation.requiredField"}),price:o.union([o.number().min(0,{message:"errors.validation.requiredField"}),o.string().min(0,{message:"errors.validation.requiredField"})]),quantity:o.union([o.number().min(0,{message:"errors.validation.requiredField"}),o.string().min(0,{message:"errors.validation.requiredField"})]),sku:o.string().min(1,{message:"errors.validation.requiredField"}),type:o.string().min(1,{message:"errors.validation.requiredField"})}));async function le(d){var i,u;if(d.valid){p.value=!0;try{e.value.businessId=`${(u=(i=X.user)==null?void 0:i.business)==null?void 0:u.id}`,await Y.create(e.value),m.success("features.vendors.products.create.successMessage"),Z.push({name:"vendors.products.index"})}catch(c){m.httpError(c)}finally{p.value=!1}}else m.error("errors.validation.form","labels.invalidForm")}return(d,r)=>{const i=v("PrimeButton"),u=v("router-link"),c=v("PrimeCard");return de(),te("div",qe,[s(ye,{title:"features.vendors.products.create.title",subtitle:"features.vendors.products.create.subtitle"}),s(c,{class:"vendor-card"},{content:b(()=>[s(g(ue),{initialValues:e.value,resolver:g(re),onSubmit:le,validateOnBlur:!0,validateOnSubmit:!0},{default:b(a=>{var y,f,q,_,k,F,x,w,h,U,P,C,S,E,T,B,N,j,H,L,z,A,I,O,R,M,D,G,J,K,Q;return[t("div",_e,[t("div",ke,[s(ve,{class:"h-96 border",onFileSelected:r[0]||(r[0]=l=>{e.value.images=l})})]),t("div",Fe,[s(n,{modelValue:e.value.name,"onUpdate:modelValue":r[1]||(r[1]=l=>e.value.name=l),errorHelpLabel:(f=(y=a.name)==null?void 0:y.error)==null?void 0:f.message,id:"product-name",isError:(q=a.name)==null?void 0:q.invalid,label:"labels.name",name:"name",type:"text"},null,8,["modelValue","errorHelpLabel","isError"]),t("div",xe,[s(n,{modelValue:e.value.sku,"onUpdate:modelValue":r[2]||(r[2]=l=>e.value.sku=l),id:"sku","error-help-label":(k=(_=a.sku)==null?void 0:_.error)==null?void 0:k.message,"is-error":(F=a.sku)==null?void 0:F.invalid,label:"labels.sku",name:"sku",type:"text"},null,8,["modelValue","error-help-label","is-error"]),s(n,{modelValue:e.value.barcode,"onUpdate:modelValue":r[3]||(r[3]=l=>e.value.barcode=l),id:"barcode","error-help-label":(w=(x=a.barcode)==null?void 0:x.error)==null?void 0:w.message,"is-error":(h=a.barcode)==null?void 0:h.invalid,label:"labels.barcode",name:"barcode",type:"text"},null,8,["modelValue","error-help-label","is-error"]),s(fe,{modelValue:e.value.type,"onUpdate:modelValue":r[4]||(r[4]=l=>e.value.type=l),id:"type","error-help-label":(P=(U=a.type)==null?void 0:U.error)==null?void 0:P.message,hint:"labels.selectProductType","is-error":(C=a.type)==null?void 0:C.invalid,label:"labels.productType",name:"type",options:g(ge),placeholder:"labels.selectProductType"},null,8,["modelValue","error-help-label","is-error","options"]),s(n,{modelValue:e.value.brand,"onUpdate:modelValue":r[5]||(r[5]=l=>e.value.brand=l),id:"brand","error-help-label":(E=(S=a.brand)==null?void 0:S.error)==null?void 0:E.message,"is-error":(B=(T=a.brand)==null?void 0:T.error)==null?void 0:B.message,label:"labels.brand",name:"brand",type:"text"},null,8,["modelValue","error-help-label","is-error"]),s(n,{modelValue:e.value.categories,"onUpdate:modelValue":r[6]||(r[6]=l=>e.value.categories=l),id:"categories","error-help-label":(j=(N=a.categories)==null?void 0:N.error)==null?void 0:j.message,"is-error":(H=a.categories)==null?void 0:H.invalid,label:"labels.categories",name:"categories",type:"text"},null,8,["modelValue","error-help-label","is-error"]),s(V,{modelValue:e.value.quantity,"onUpdate:modelValue":r[7]||(r[7]=l=>e.value.quantity=l),id:"quantity","error-help-label":(z=(L=a.quantity)==null?void 0:L.error)==null?void 0:z.message,"is-error":(A=a.quantity)==null?void 0:A.invalid,label:"labels.quantity",min:0,name:"quantity","show-buttons":!0},null,8,["modelValue","error-help-label","is-error"]),s(V,{modelValue:e.value.cost,"onUpdate:modelValue":r[8]||(r[8]=l=>e.value.cost=l),id:"cost","error-help-label":(O=(I=a.cost)==null?void 0:I.error)==null?void 0:O.message,"is-error":(R=a.cost)==null?void 0:R.invalid,label:"labels.cost",min:0,name:"cost","show-buttons":!0},null,8,["modelValue","error-help-label","is-error"]),s(V,{modelValue:e.value.price,"onUpdate:modelValue":r[9]||(r[9]=l=>e.value.price=l),id:"price","error-help-label":(D=(M=a.price)==null?void 0:M.error)==null?void 0:D.message,"is-error":(G=a.price)==null?void 0:G.invalid,label:"labels.price",min:0,name:"price","show-buttons":!0},null,8,["modelValue","error-help-label","is-error"])]),s(Ve,{modelValue:e.value.description,"onUpdate:modelValue":r[10]||(r[10]=l=>e.value.description=l),errorHelpLabel:(K=(J=a.description)==null?void 0:J.error)==null?void 0:K.message,hint:"features.vendors.products.create.descriptionHint",id:"description",isError:(Q=a.description)==null?void 0:Q.invalid,label:"labels.description",name:"description"},null,8,["modelValue","errorHelpLabel","isError"]),t("div",we,[s(u,{to:"/vendors/products"},{default:b(()=>[s(i,{text:"",label:d.$t("labels.cancel")},null,8,["label"])]),_:1}),s(i,{type:"submit",loading:p.value,label:d.$t("labels.save")},null,8,["loading","label"])])])])]}),_:1},8,["initialValues","resolver"])]),_:1})])}}});export{Ae as default};
